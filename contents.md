# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

# name: Deploy to Firebase Hosting on merge
# 'on':
#   push:
#     branches:
#       - main
# jobs:
#   build_and_deploy:
#     runs-on: ubuntu-latest
#     steps:
#       - uses: actions/checkout@v4

#       - name: Set up Cloud SDK
#         uses: google-github-actions/setup-gcloud@v1
#         with:
#           project_id: invoice-csv2pdf
#           service_account_key: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_INVOICE_CSV2PDF }}'

#       - name: Configure Docker
#         run: gcloud auth configure-docker

#       - name: Build Docker Image
#         run: |
#           docker build -t gcr.io/invoice-csv2pdf/invoice-app .

#       - name: Push Docker Image
#         run: |
#           docker push gcr.io/invoice-csv2pdf/invoice-app

#       - name: Deploy to Cloud Run
#         run: |
#           gcloud run deploy invoice-app \
#             --image gcr.io/invoice-csv2pdf/invoice-app \
#             --platform managed \
#             --region asia-southeast1 \
#             --allow-unauthenticated


# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

<!-- name: Deploy to Firebase Hosting on PR
'on': pull_request
jobs:
  build_and_preview:
    if: '${{ github.event.pull_request.head.repo.full_name == github.repository }}'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: >-
          docker build -t gcr.io/invoice-csv2pdf/invoice-generator && docker
          push gcr.io/invoice-csv2pdf/invoice-generator
      - uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: '${{ secrets.GITHUB_TOKEN }}'
          firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_INVOICE_CSV2PDF }}'
          projectId: invoice-csv2pdf -->
